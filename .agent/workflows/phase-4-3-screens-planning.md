---
description: Phase 4.3 画面設計プランニング - 共通設計とCCへの指示書作成
---

# Phase 4.3: 画面設計プランニングワークフロー

## 目的・概要

このフェーズでは、画面設計の**共通仕様**を策定し、`docs/design/screens/index.md` に記載する。
また、CCへのHTMLモック生成依頼のための**指示書**を準備する。

> **注意**: このフェーズではAGが共通設計を策定するのみ。実際のHTMLモック生成はPh4.4でユーザーがCCに依頼する。

---

## 担当者

| 役割 | 担当 |
|------|------|
| 主導 | AG（建築家） |
| 承認 | User（施主） |

---

## 前提条件

- [ ] Phase 4.0 が完了していること
- [ ] `docs/design/basic-design.md` が存在すること
- [ ] 必要に応じてPhase 4.1, 4.2 が完了していること
- [ ] 基本設計で画面設計が「必要」と判定されていること
- [ ] `PRODUCT.md` の Current Phase が Phase 4.3 であること

> **スキップ条件**: 基本設計で画面設計が「不要」と判定された場合、このフェーズをスキップしてPhase 5へ進む。

---

## Step 1: 関連設計の確認

以下を確認し、画面設計の要件を把握する：

1. `docs/design/basic-design.md` - システム概要、ユースケース
2. `docs/design/api/index.md` - 利用可能なAPI
3. `docs/requirements.md` - UI関連の要件
4. `docs/tech-stack.md` - フロントエンド技術

---

## Step 2: ユーザーとの対話

以下の観点でユーザーと対話しながら画面設計の共通仕様を固める：

### 2.1 画面一覧

- 作成する画面の洗い出し
- 各画面の目的と主要機能
- 対象ユーザー（ロール）

### 2.2 URL設計

- ルーティング構造
- パラメータ設計

### 2.3 デザイン方針

デザインの方向性を**抽象的に**定義する（具体的なカラーコードはCCが決定）：

- **トーン**: 例）洗練されたミニマル、レトロフューチャー、遊び心のあるポップ、高級感のあるエレガント等
- **カラーパレットの方向性**: 例）ダークモード基調、パステル調、モノクロームにアクセントカラー等
- **タイポグラフィの方向性**: 例）モダンなサンセリフ、クラシックなセリフ、手書き風等
- **レスポンシブ方針**: ブレイクポイント

### 2.4 共通コンポーネント

- ヘッダー、フッター、ナビゲーション
- ボタン、フォーム要素
- モーダル、通知

### 2.5 状態・インタラクション

- ローディング状態
- エラー状態
- 空状態
- アニメーション方針

---

## Step 3: Implementation Plan 作成

設計内容が固まったら、実装計画を作成してユーザー承認を得る。

```markdown
# Ph4.3 画面設計プランニング - 実装計画

## 設計概要
（対話で固まった内容のサマリー）

## 画面一覧

| 画面名 | URL | 説明 |
|--------|-----|------|
| ホーム | / | トップページ |
| ログイン | /login | ログイン画面 |
| ... | ... | ... |

## デザイン方針

- トーン: 〇〇
- カラーパレット: 〇〇基調
- タイポグラフィ: 〇〇系

## 出力ファイル

- `docs/design/screens/index.md` - 共通設計
```

---

## Step 4: index.md の作成

ユーザー承認後、`docs/design/screens/index.md` を作成する：

```markdown
# 画面設計

## 概要

このドキュメントは画面設計の共通仕様を定義する。

## 画面一覧

| 画面名 | URL | 説明 | 対象ユーザー |
|--------|-----|------|-------------|
| ホーム | / | トップページ | 全員 |
| ログイン | /login | ログイン画面 | 未認証ユーザー |
| ダッシュボード | /dashboard | メイン画面 | 認証ユーザー |
| ... | ... | ... | ... |

## 画面遷移図

（Mermaid flowchart）

## デザイン方針

### トーン・世界観
（例：洗練されたミニマルデザイン、余白を活かしたクリーンな印象）

### カラーパレットの方向性
（例：ダークモード基調、アクセントに暖色を使用、コントラストを強めに）

### タイポグラフィの方向性
- 見出し: モダンで特徴的なディスプレイフォント
- 本文: 読みやすいサンセリフ

### レスポンシブ方針

| ブレイクポイント | 幅 | 対象デバイス |
|-----------------|-----|-------------|
| sm | 640px | スマートフォン |
| md | 768px | タブレット |
| lg | 1024px | ノートPC |
| xl | 1280px | デスクトップ |

## 共通コンポーネント

### ヘッダー
- ロゴ（左）
- ナビゲーション（中央）
- ユーザーメニュー（右）

### フッター
- コピーライト
- リンク集

### ボタン
| 種類 | 用途 |
|------|------|
| Primary | 主要アクション |
| Secondary | 補助アクション |
| Outline | 控えめなアクション |
| Ghost | テキストリンク風 |
| Danger | 削除等の危険な操作 |

## 状態表現

### ローディング
- スピナーまたはスケルトンを使用
- 操作ボタンは非活性化

### エラー
- エラーメッセージを目立つ色で表示
- リトライボタンを配置

### 空状態
- イラストまたはアイコン
- 説明テキスト
- 次のアクションへの誘導

## モーション・インタラクション方針

- ページ遷移: フェードやスライドでスムーズに
- マイクロインタラクション: ホバー時の反応、ボタンのフィードバック
- 高インパクトな瞬間に集中（ページ読み込み時のスタガードアニメーション等）
```

---

## Step 5: CCへの指示書テンプレート準備

Ph4.4でユーザーがCCに依頼する際の指示書テンプレートを準備する：

```markdown
## CCへのHTMLモック生成指示書

以下の指示に従って、HTMLベースのデザインモックを生成してください。

### 読み込むドキュメント
- `docs/design/screens/index.md` - 共通設計仕様
- `docs/tech-stack.md` - 実装で使用する技術

### 重要な認識
このHTMLプロジェクトは**デザインモック**であり、実際の実装は `docs/tech-stack.md` に記載された技術（例: React, Vue等）で行います。
そのため、対象技術で実装しやすい構成を心がけ、コードにはヒントとなるコメントを入れてください。

### 生成ルール

1. **出力先**: `docs/design/screens/html/`
2. **構成**:
   - 全画面を1つのHTMLプロジェクトとして作成
   - `index.html` をエントリーポイントに
   - 画面間の導線を設定（静的リンク）
3. **CSS設計**:
   - TailwindCSS風のユーティリティクラス
   - 全画面でトンマナを統一
4. **レスポンシブ**:
   - PC/スマホ対応
   - index.mdのブレイクポイントに従う
5. **デザイン**:
   - index.mdのデザイン方針に従う
   - frontend-designスキルを活用し、独自性のある印象的なデザインを
   - 具体的なカラーコードやフォントはあなたが決定してよい
6. **動的機能**:
   - 不要（静的なデザイン確認用）
   - JavaScriptは最小限（ハンバーガーメニュー開閉等のみ）
7. **言語**:
   - 日本語で表記
8. **スキル**:
   - 必ず `frontend-design` スキルを使用すること

### アセットについて

画像などのアセットは後から私が追加します。
今はアセットが無くても404エラーを気にせず、プレースホルダーを配置してコーディングしてください。

### 出力物

1. **HTMLプロジェクト**: `docs/design/screens/html/` 配下
2. **README.md**: HTMLプロジェクトのルートに作成し、以下を記載
   - 採用したデザイン設計の説明（カラーパレット、フォント、デザインコンセプト等）
   - 各画面の概要
   - 特記事項

### アセット依頼

アセットが必要な場合は、以下のフォーマットで**必要なアセットをすべてリストアップ**してください：

```
## 必要なアセット一覧

### 1. [用途を説明]
- ファイル名: logo.png
- サイズ: 200x50px
- 形式: PNG（透過）
- 説明: ヘッダーに配置するメインロゴ。〇〇な雰囲気で、□□色基調。テキスト「AppName」を含む。

### 2. [用途を説明]
- ファイル名: hero-image.jpg
- サイズ: 1920x1080px
- 形式: JPG
- 説明: トップページのヒーローセクション背景。△△なイメージ。
```
```

---

## 完了条件

- [ ] `docs/design/screens/index.md` が作成されている
- [ ] 画面一覧が記載されている
- [ ] デザイン方針が定義されている
- [ ] レスポンシブ方針が記載されている
- [ ] CCへの指示書テンプレートが準備されている
- [ ] ユーザーが共通設計を承認している
- [ ] `docs/design/index.md` が更新されている

---

## 次フェーズへの移行

1. AGの作業はこのフェーズで一旦完了
2. ユーザーに「Ph4.4でCCにHTMLモック生成を依頼してください」と案内
3. `PRODUCT.md` を「Phase 4.4: 画面モック生成（ユーザー主導）」に更新
